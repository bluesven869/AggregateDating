angular.module("facebook",[]).provider("$facebook",function(){var a=!1,b=[];return{init:function(c){window.fbAsyncInit=function(){FB.init(c||{status:!0,xfbml:!0}),a=!0,angular.forEach(b,function(a){a()})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")},$get:["$rootScope","$q",function(c,d){function e(){angular.forEach(q,function(a,b){angular.forEach(a,function(a){f(b,a)})})}function f(a,b){FB.Event.subscribe(a+"."+b,function(d){c.$broadcast("facebook."+a+"."+b,d)})}function g(a,b,d){a(function(a){b(a)?c.$$phase?d.reject(a):c.$apply(function(){d.reject(a)}):c.$$phase?d.resolve(a):c.$apply(function(){d.resolve(a)})})}function h(a,b,c){c=c||function(a){return a&&a.error},g(a,c,b)}function i(a,b,c,d){h(function(b){a(c,b)},b,d)}function j(a,b,c){h(a,b,c)}function k(c){var e=d.defer();return a?i(FB.api,e,c):b.push(function(){i(FB.api,e,c)}),e.promise}function l(c){var e=d.defer();return a?i(FB.ui,e,c):b.push(function(){i(FB.ui,e,c)}),e.promise}function m(){return FB.getAuthResponse()}function n(){var c=d.defer();return a?j(FB.getLoginStatus,c):b.push(function(){j(FB.getLoginStatus,c)}),c.promise}function o(){var c=d.defer();return a?j(FB.login,c,function(a){return!a||!a.authResponse}):b.push(function(){j(FB.login,c)}),c.promise}function p(){var c=d.defer();return a?j(FB.logout,c,function(){return!1}):b.push(function(){j(FB.logout,c,function(){return!1})}),c.promise}var q={auth:["login","authResponseChange","statusChange","logout","prompt"],xfbml:["render"],edge:["create","remove"],comment:["create","remove"],message:["send"]};return a?e():b.push(e),{getAuthResponse:m,getLoginStatus:n,login:o,logout:p,api:k,ui:l}}]}});