angular.module("facebook",[]).factory("$facebook",["$rootScope","$window","$q",function(a,b,c){function d(){angular.forEach(n,function(b,c){angular.forEach(b,function(b){FB.Event.subscribe(c+"."+b,function(d){a.$broadcast("facebook."+c+"."+b,d)})})})}function e(b,d){d=d||function(a){return a&&a.error};var e=c.defer();return b(function(b){d(b)?a.$apply(function(){e.reject(b)}):a.$apply(function(){e.resolve(b)})}),e.promise}function f(a,b,c){return e(function(c){a(b,c)},c)}function g(a,b){return e(a,b)}function h(a){return f(FB.api,a)}function i(a){return f(FB.ui,a)}function j(){return FB.getAuthResponse()}function k(){return g(FB.getLoginStatus)}function l(){return g(FB.login,function(a){return!a||!a.authResponse})}function m(){return g(FB.logout,function(){return!1})}var n={auth:["login","authResponseChange","statusChange","logout","prompt"],xfbml:["render"],edge:["create","remove"],comment:["create","remove"],message:["send"]};return{getAuthResponse:j,getLoginStatus:k,login:l,logout:m,init:d,api:h,ui:i}}]);